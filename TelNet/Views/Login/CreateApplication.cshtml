@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Create Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10/dist/sweetalert2.min.css">
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <form id="applicationForm">
                    <fieldset id="personalInfo">
                        <legend>Personal Information</legend>
                        <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input type="text" class="form-control" id="fullName" name="fullName" required>
                        </div>
                        <div class="form-group">
                            <label for="mothersMaidenName">Mother's Maiden Name</label>
                            <input type="text" class="form-control" id="mothersMaidenName" name="mothersMaidenName" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="text" class="form-control" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="birthdate">Birthdate</label>
                            <input type="date" class="form-control" id="birthdate" name="birthdate" required>
                        </div>
                        <div class="form-group">
                            <label for="typeOfId">Type of ID</label>
                            <select class="form-control" id="typeOfId" name="typeOfId" required>
                                <option value="SSS">Social Security System (SSS)</option>
                                <option value="GSIS">Government Service Insurance System (GSIS)</option>
                                <option value="UMID">Unified Multi-Purpose ID (UMID)</option>
                                <option value="TIN">Tax Identification Number (TIN)</option>
                                <option value="PhilHealth">Philippine Health Insurance Corporation (PhilHealth)</option>
                                <option value="Passport">Passport</option>
                                <option value="DriverLicense">Driver's License</option>
                                <option value="PRC">Professional Regulation Commission (PRC) ID</option>
                                <option value="VoterID">Voter's ID</option>
                                <option value="PostalID">Postal ID</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div id="otherIdInput" style="display: none;">
                            <div class="form-group">
                                <label for="otherId">Specify Other ID</label>
                                <input type="text" class="form-control" id="otherId" name="otherId" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="idImage">Upload ID Image (JPEG, PNG)</label>
                            <input type="file" class="form-control" id="idImage" name="idImage" accept="image/jpeg, image/png" required>
                            <small class="form-text text-muted">Please upload an image file (JPEG, PNG).</small>
                        </div>
                        <div class="form-group">
                            <label>Gender</label><br>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="gender" id="male" value="Male" required>
                                <label class="form-check-label" for="male">Male</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="gender" id="female" value="Female" required>
                                <label class="form-check-label" for="female">Female</label>
                            </div>
                        </div>
                    </fieldset>

                    <fieldset id="additionalInformation">
                        <br />
                        <legend>Additional Information</legend>
                        <div class="form-group">
                            <label for="civilStatus">Civil Status</label>
                            <input type="text" class="form-control" id="civilStatus" name="civilStatus" required>
                        </div>
                        <div class="form-group">
                            <label for="citizenship">Citizenship</label>
                            <select class="form-select" id="citizenship" name="citizenship" required>
                                <option value="PH">Philippines</option>
                                <option value="US">United States</option>
                                <option value="CA">Canada</option>
                                <option value="UK">United Kingdom</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="homeOwnership">Home Ownership</label>
                            <input type="text" class="form-control" id="homeOwnership" name="homeOwnership" required>
                        </div>
                        <div class="form-group">
                            <label for="homeAddress">Home Address</label>
                            <input type="text" class="form-control" id="homeAddress" name="homeAddress" required>
                        </div>
                        <div class="form-group">
                            <label for="plans">Plans</label>
                            <select class="form-select" id="plans" name="plans" required>
                                <optgroup label="Plan for Home/Business">
                                    <option value="FiberX Plan 200Mbps">FiberX Plan 200Mbps - 1500 PHP</option>
                                    <option value="FiberX Plan 400Mbps">FiberX Plan 400Mbps - 2000 PHP</option>
                                    <option value="FiberX Plan 600mbps">FiberX Plan 600mbps - 2500 PHP</option>
                                    <option value="FiberX Plan 800mbps">FiberX Plan 800mbps - 3500 PHP</option>
                                    <option value="FiberX Plan 1Gbps">FiberX Plan 1Gbps - 7499 PHP</option>
                                </optgroup>
                                <optgroup label="Plan for Work">
                                    <option value="FiberX Plan 400mbps Morning / 200mbps Night">FiberX Plan 400mbps Morning / 200mbps Night - 1699 PHP </option>
                                    <option value="FiberX Plan 400mbps Night   / 200mbps Morning">FiberX Plan 400mbps Night   / 200mbps Morning - 1699 PHP</option>
                                    <option value="FiberX Plan 800mbps Morning / 600mbps Night">FiberX Plan 800mbps Morning / 600mbps Night - 3000 PHP</option>
                                    <option value="FiberX Plan 800mbps Night   / 600mbps Morning">FiberX Plan 800mbps Night   / 600mbps Morning - 3000 PHP</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="modeOfPayment">Payment Methods</label>
                            <select class="form-select" id="modeOfPayment" name="modeOfPayment" required>
                                <optgroup label="Walk In">
                                    <option value="over-the-counter">Over-The-Counter</option>
                                </optgroup>
                                <optgroup label="Payment Centers">
                                    <option value="Palawan">Palawan Payment Center</option>
                                    <option value="Mhuillier">Mhuillier Payment Center</option>
                                </optgroup>
                                <optgroup label="E-Wallet">
                                    <option value="GCash">GCash</option>
                                    <option value="Maya">Maya</option>
                                </optgroup>
                                <optgroup label="Credit/Debit Card">
                                    <option value="VISA">VISA</option>
                                    <option value="MasterCard">MasterCard</option>
                                </optgroup>
                                <optgroup label="Online Banking">
                                    <option value="Unionbank">Unionbank Internet Banking</option>
                                    <option value="RCBC">RCBC Online Banking</option>
                                    <option value="BDO">BDO</option>
                                    <option value="BPI">BPI</option>
                                    <option value="Metrobank">Metrobank Direct</option>
                                    <option value="Landbank">Landbank ATM Online</option>
                                </optgroup>
                            </select>
                        </div>
                    </fieldset>

                    <fieldset id="employmentInfo">
                        <br />
                        <legend>Employment Information</legend>
                        <div class="form-group">
                            <label for="employmentStatus">Employment Status</label>
                            <select class="form-control" id="employmentStatus" name="employmentStatus" required>
                                <option value="Employed">Employed</option>
                                <option value="Unemployed">Unemployed</option>
                                <option value="Self-employed">Self-employed</option>
                                <option value="Student">Student</option>
                                <option value="Retired">Retired</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="totalHouseholdIncome">Total Household Income (PHP)</label>
                            <select class="form-select" id="totalHouseholdIncome" name="totalHouseholdIncome" required>
                                <option value="0">Below PHP 10,000</option>
                                <option value="10000">PHP 10,000 - PHP 30,000</option>
                                <option value="30000">PHP 30,000 - PHP 100,000</option>
                                <option value="100000">Above PHP 100,000</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="occupation">Occupation</label>
                            <input type="text" class="form-control" id="occupation" name="occupation" required>
                        </div>
                        <div class="form-group">
                            <label for="occupationRank">Position/Rank/Level</label>
                            <input type="text" class="form-control" id="occupationRank" name="occupationRank" required>
                        </div>
                        <div class="form-group">
                            <label for="businessName">Employer's/Business Name</label>
                            <input type="text" class="form-control" id="businessName" name="businessName" required>
                        </div>
                        <div class="form-group">
                            <label for="businessAddress">Employer's/Business Address</label>
                            <input type="text" class="form-control" id="businessAddress" name="businessAddress" required>
                        </div>
                        <div class="form-group">
                            <label for="officeTelephone">Office Telephone Number</label>
                            <input type="tel" class="form-control" id="officeTelephone" name="officeTelephone" required>
                        </div>
                    </fieldset>

                    <div class="form-group">
                        <br />
                        <button type="button" class="btn btn-primary" id="nextButton">Next</button>
                        <button type="button" class="btn btn-primary me-2" id="backButton" style="display: none;">Back</button>
                        <br />
                        <button type="button" class="btn btn-primary" id="submitButton" style="display: none;">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

                <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                <!-- Bootstrap Bundle with Popper -->
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

                <script>
                    // Function to handle form submission
                    function submitForm() {
                        // Retrieve form data
                        let formData = new FormData(document.getElementById('applicationForm'));

                        // Send formData to the server using AJAX
                        fetch('/Home/CreateApplication', {
                            method: 'POST',
                            body: formData
                        })
                            .then(response => {
                                if (!response.ok) {
                                    throw new Error('Network response was not ok');
                                }
                                return response.json();
                            })
                            .then(data => {
                                console.log(data);

                                // Show SweetAlert for successful submission
                                Swal.fire('Application Submitted', '', 'success');

                                setTimeout(function () {
                                    location.reload();
                                }, 1000); // 2000 milliseconds = 2 seconds

                            })
                            .catch(error => {
                                console.error('Error:', error);
                            });
                    }

                    // Event listener for Submit button click
                    document.getElementById('submitButton').addEventListener('click', function (event) {

                        submitForm();
                    });

                    // Event listener for Next button click
                    document.getElementById('nextButton').addEventListener('click', function () {
                        document.getElementById('personalInfo').style.display = 'none';
                        document.getElementById('employmentInfo').style.display = 'block';
                        document.getElementById('additionalInformation').style.display = 'none';
                        document.getElementById('nextButton').style.display = 'none';
                        document.getElementById('backButton').style.display = 'block';
                        document.getElementById('submitButton').style.display = 'block';
                    });

                    // Event listener for Back button click
                    document.getElementById('backButton').addEventListener('click', function () {
                        document.getElementById('personalInfo').style.display = 'block';
                        document.getElementById('additionalInformation').style.display = 'block';
                        document.getElementById('employmentInfo').style.display = 'none';
                        document.getElementById('nextButton').style.display = 'block';
                        document.getElementById('backButton').style.display = 'none';
                        document.getElementById('submitButton').style.display = 'none';
                    });
                </script>
</body>
</html>
